<app-date-picker [(selected)]="selectedDate" (selectedChange)="getAppointmentsByDate()" />

<div class="timetable">
  <h4 class="day"><i class="fa-solid fa-plus"></i>{{ selectedDate | date: 'EEEE dd MMM yyyy' | capitalize }}</h4>
  <ul>
    <!-- HORAS -->
    @for (hour of hours; track $index) {
      <li><span class="hour">{{hour}}</span></li>
    }
    <!-- CITAS -->
    @for (appointment of appointments; track appointment.id) {
      <app-agenda-appointment [appointment]="appointment" [top]="calculatePosition(appointment.startTime)" [MINUTE_SIZE]="MINUTE_SIZE" />
    }
    <!-- SEPARATORS -->
    @for (matchingDate of matchingDates; track $index) {
      <app-appointment-separator [top]="calculatePosition(matchingDate)" />
    }
  </ul>
</div>
